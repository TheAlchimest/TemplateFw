@inject IOptions<WebSettings> webSettings
@model TemplateFw.Dtos.Views.GridFilterDto
<div class="card master-form">
    <div class="card-body">
        <form id="grid-filter" class="grid-filter"
              action="@Model.Url"
              data-container-id="containerBox"
              onsubmit="actionsController.search(this,event)">
            <input type="hidden" id="PageNo" name="PageNo" value="@Model.PageNo" />
            <input type="hidden" id="PollId" name="PollId" value="@Model.PollId" />
            <div class="row">
                @if (Model.HasPortalsFilter)
                {
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="font-w600 px-4">البوابة</label>
                            <select class="select2 select-dynamic"
                                id="PortalId"
                                name="PortalId"
                                data-api-url="@(webSettings.Value.LookupApiUrl)lookup/portals"
                                @if(Model.HasAllPortalsOption){
                                @Html.Raw("data-default-val=\"\"");
                                @Html.Raw("data-default-text=\"الكل\"");
                                }>
                            </select>
                        </div>
                    </div>
                }
                @if (Model.HasServicesFilter)
                {
                    <div class="col-md-4">
                        <div class="form-group">
                            <label class="font-w600 px-4">الخدمة</label>
                             <select class="select2 select-dynamic"
                                id="ServiceId"
                                name="ServiceId"
                                data-api-url="@(webSettings.Value.LookupApiUrl)lookup/services"
                                data-cascade-api-url="@(webSettings.Value.LookupApiUrl)lookup/services"
                                data-default-val=""
                                data-default-text="الكل"
                                data-cascade-with="PortalId"> </select>
                        </div>
                    </div>
                }
                <div class="col-md-4">
                    <div class="form-group">
                        <label class="font-w600 px-4">عدد العناصر</label>
                        <select id="ddlPageSize" name="PageSize" class="select2">
                            <option value="20">عرض 20 عنصر بالجدول</option>
                            <option value="50">عرض 50 عنصر بالجدول</option>
                            <option value="100">عرض 100 عنصر بالجدول</option>
                        </select>
                    </div>
                </div>

                @if (Model.HasSearchFilter)
                {
                    <div class="col-md">
                        <div class="form-group">
                            <label class="font-w600 px-4">بحث</label>
                            <input type="text" name="Search" class="form-control" placeholder="بحث ...">
                        </div>
                    </div>
                }
            </div>

        </form>
    </div>
</div>
<script>
    $('#grid-filter').find('select,input').change(function () {
        $('#PageNo').val('1');
        $('#grid-filter').trigger('submit');
    });
</script>


